import { getVKIDUrl } from '../utils/url.js';
import { AUTH_RESPONSE_TOKEN } from './constants.js';

class Auth {
    static __config;
    login = (params)=>{
        const queryParams = {
            lang_id: params?.lang,
            scheme: params?.scheme,
            screen: params?.screen,
            response_type: AUTH_RESPONSE_TOKEN,
            action: params?.action ? btoa(JSON.stringify(params.action)) : undefined
        };
        const url = getVKIDUrl('auth', queryParams, Auth.__config.get());
        location.assign(url);
    };
}

export { Auth };
