'use strict';

var url = require('../utils/url.js');
var constants = require('./constants.js');

function _class_call_check(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
var Auth = function Auth() {
    _class_call_check(this, Auth);
    _define_property(this, "login", function(params) {
        var _params, _params1, _params2, _params3;
        var queryParams = {
            lang_id: (_params = params) === null || _params === void 0 ? void 0 : _params.lang,
            scheme: (_params1 = params) === null || _params1 === void 0 ? void 0 : _params1.scheme,
            screen: (_params2 = params) === null || _params2 === void 0 ? void 0 : _params2.screen,
            response_type: constants.AUTH_RESPONSE_TOKEN,
            action: ((_params3 = params) === null || _params3 === void 0 ? void 0 : _params3.action) ? btoa(JSON.stringify(params.action)) : undefined
        };
        var url$1 = url.getVKIDUrl("auth", queryParams, Auth.__config.get());
        location.assign(url$1);
    });
};
_define_property(Auth, "__config", void 0);

exports.Auth = Auth;
